CREATE TABLE [User]
(
UserID INT NOT NULL,
UserName VARCHAR(15) NOT NULL,
CONSTRAINT PK_USER PRIMARY KEY (UserId)
)

CREATE TABLE [Event]
(
EventId INT NOT NULL,
TypeId INT NOT NULL,
Name VARCHAR(255) NOT NULL,
Summary VARCHAR(255),
Location VARCHAR(255),
StartTime INT NOT NULL,
EndTime INT NOT NULL,
CONSTRAINT PK_EVENT PRIMARY KEY (EventId)
)

CREATE TABLE [Attendees]
(
UserId INT NOT NULL,
EventId INT NOT NULL,
AttendeeStatusId INT NOT NULL,
CONSTRAINT PK_ATTENDEES PRIMARY KEY (UserId, EventId)
)

CREATE TABLE [AttendeeStatus]
(
StatusId INT NOT NULL,
Name VARCHAR(255) NOT NULL,
CONSTRAINT PK_ATTENDEESTATUS PRIMARY KEY (StatusId)
)

CREATE TABLE [EventType]
(
TypeId INT NOT NULL,
Name VARCHAR(255) NOT NULL,
CONSTRAINT PK_EVENTTYPE PRIMARY KEY (TypeId)
)

CREATE TABLE [Group]
(
GroupId INT NOT NULL,
Name VARCHAR(255) NOT NULL,
CONSTRAINT PK_GROUP PRIMARY KEY (GroupId)
)

CREATE TABLE [GroupMembers]
(
UserId INT NOT NULL,
GroupId INT NOT NULL,
Role VARCHAR(50) NULL,
CONSTRAINT PK_GROUPMEMBERS PRIMARY KEY (UserId, GroupId) 
)

ALTER TABLE [Event]
ADD CONSTRAINT FK_EVENT_TYPEID FOREIGN KEY (TypeId) REFERENCES [EVENTTYPE]

ALTER TABLE [Attendees]
ADD CONSTRAINT FK_ATTENDEES_USERID FOREIGN KEY (UserId) REFERENCES [User], 
CONSTRAINT FK_ATTENDEES_EVENTID FOREIGN KEY (EventID) REFERENCES [Event],
CONSTRAINT FK_ATTENDEES_ATTENDEESTATUSID FOREIGN KEY (AttendeeStatusId)
REFERENCES [AttendeeStatus]

ALTER TABLE [GroupMembers]
ADD CONSTRAINT FK_GROUPMEMBERS_USERID FOREIGN KEY (UserId) REFERENCES [User],
CONSTRAINT FK_GROUPMEMBERS_GROUPID FOREIGN KEY (GroupId) REFERENCES [Group]